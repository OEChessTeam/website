{"ast":null,"code":"var _jsxFileName = \"/Users/rohancherukuri/Documents/CodingProjects/chess-app/chess-site/src/components/auth/Signup.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport validator from 'validator';\nimport { regexPassword } from \"../../utils\";\nimport { Paper, Container, Link, Stack, Button, Box, Divider, Avatar, Typography, TextField, FilledInput, InputAdornment, IconButton, InputLabel, FormControl, FormHelperText } from \"@mui/material\";\nimport { Face as FaceIcon, Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Signup() {\n  _s();\n\n  const [values, setValues] = useState({\n    email: '',\n    password: '',\n    repeatPassword: '',\n    showPassword: false,\n    showRepeatPassword: false\n  });\n  const [errors, setErrors] = useState({\n    email: false,\n    password: false,\n    repeatPassword: false,\n    fetchError: false,\n    fetchErrorMsg: ''\n  });\n\n  const handleChange = fieldName => Event => {\n    const currValue = Event.target.value;\n\n    switch (fieldName) {\n      case 'email':\n        validator.isEmail(currValue) ? setErrors({ ...errors,\n          email: false\n        }) : setErrors({ ...errors,\n          email: true\n        });\n        break;\n\n      case 'password':\n        regexPassword.test(currValue) ? setErrors({ ...errors,\n          password: false\n        }) : setErrors({ ...errors,\n          password: true\n        });\n        break;\n\n      case 'repeatPassword':\n        currValue === values.password ? setErrors({ ...errors,\n          repeatPassword: false\n        }) : setErrors({ ...errors,\n          repeatPassword: true\n        });\n        break;\n    }\n\n    setValues({ ...values,\n      [fieldName]: Event.target.value\n    });\n  };\n\n  const handleShowPassword = showPasswordField => {\n    setValues({ ...values,\n      [showPasswordField]: !values[showPasswordField]\n    });\n  };\n\n  const handleSubmit = async Event => {\n    Event.preventDefault();\n\n    try {\n      const res = await fetch('/api/register', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: values.email,\n          password: values.password\n        })\n      });\n\n      if (!res.ok) {\n        const error = await res.json();\n        return setErrors({ ...errors,\n          fetchError: true,\n          fetchErrorMsg: error.msg\n        });\n      }\n\n      const data = await res.json();\n      setErrors({ ...errors,\n        fetchError: true,\n        fetchErrorMsg: data.msg\n      });\n      setValues({\n        email: '',\n        password: '',\n        repeatPassword: '',\n        showPassword: false,\n        showRepeatPassword: false\n      });\n      return;\n    } catch (error) {\n      setErrors({ ...errors,\n        fetchError: true,\n        fetchErrorMsg: 'There was a problem with our server, please try again later'\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Signup, \"2qXBLBl2piF1aMCQxVnntT5D1aM=\");\n\n_c = Signup;\nexport default Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["React","useState","Link","RouterLink","validator","regexPassword","Paper","Container","Stack","Button","Box","Divider","Avatar","Typography","TextField","FilledInput","InputAdornment","IconButton","InputLabel","FormControl","FormHelperText","Face","FaceIcon","Visibility","VisibilityOff","Signup","values","setValues","email","password","repeatPassword","showPassword","showRepeatPassword","errors","setErrors","fetchError","fetchErrorMsg","handleChange","fieldName","Event","currValue","target","value","isEmail","test","handleShowPassword","showPasswordField","handleSubmit","preventDefault","res","fetch","method","headers","body","JSON","stringify","ok","error","json","msg","data"],"sources":["/Users/rohancherukuri/Documents/CodingProjects/chess-app/chess-site/src/components/auth/Signup.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom'\nimport validator from 'validator'\nimport { regexPassword } from \"../../utils\";\nimport {\n    Paper,\n    Container,\n    Link,\n    Stack,\n    Button,\n    Box,\n    Divider,\n    Avatar,\n    Typography,\n    TextField,\n    FilledInput,\n    InputAdornment,\n    IconButton,\n    InputLabel,\n    FormControl,\n    FormHelperText,\n} from \"@mui/material\";\nimport {\n    Face as FaceIcon,\n    Visibility,\n    VisibilityOff,\n} from \"@material-ui/icons\";\n\nfunction Signup() {\n    const [values, setValues] = useState({\n        email: '',\n        password: '',\n        repeatPassword: '',\n        showPassword: false,\n        showRepeatPassword: false,\n    })\n    const [errors, setErrors] = useState({\n        email: false,\n        password: false,\n        repeatPassword: false,\n        fetchError: false,\n        fetchErrorMsg: '',\n    })\n\n    const handleChange = (fieldName) => (Event) => {\n        const currValue = Event.target.value\n        switch (fieldName) {\n            case 'email':\n                validator.isEmail(currValue)\n                    ? setErrors({ ...errors, email: false })\n                    : setErrors({ ...errors, email: true})\n                break\n            case 'password':\n                regexPassword.test(currValue)\n                    ? setErrors({ ...errors, password: false})\n                    : setErrors({ ...errors, password: true})\n                break\n            case 'repeatPassword':\n                currValue === values.password\n                    ? setErrors({ ...errors, repeatPassword: false})\n                    : setErrors({ ...errors, repeatPassword: true})\n                break\n        }\n        setValues({ ...values, [fieldName]: Event.target.value })\n    }\n\n    const handleShowPassword = (showPasswordField) => {\n        setValues({\n            ...values,\n            [showPasswordField]: !values[showPasswordField],\n        })\n    }\n\n    const handleSubmit = async (Event) => {\n        Event.preventDefault()\n\n        try {\n            const res = await fetch('/api/register', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    email: values.email,\n                    password: values.password,\n                }),\n            })\n\n            if (!res.ok) {\n                const error =await res.json()\n                return setErrors({\n                    ...errors,\n                    fetchError: true,\n                    fetchErrorMsg: error.msg,\n                })\n            }\n\n            const data = await res.json()\n\n            setErrors({\n                ...errors,\n                fetchError: true,\n                fetchErrorMsg: data.msg,\n            })\n\n            setValues({\n                email: '',\n                password: '',\n                repeatPassword: '',\n                showPassword: false,\n                showRepeatPassword: false,\n            })\n            return\n        } catch (error) {\n            setErrors({\n                ...errors,\n                fetchError: true,\n                fetchErrorMsg:\n                    'There was a problem with our server, please try again later'\n            })\n        }\n    }\n\n    return (\n        <div></div>\n    );\n}\n\nexport default Signup;"],"mappings":"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"},"metadata":{},"sourceType":"module"}